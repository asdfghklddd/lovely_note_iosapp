笺间 MVP 页面与主视觉/UI 设计规划（iMessage 配件版）

一、MVP 页面介绍（信息架构与关键元素）
- 首页（ListView，收/发合并列表，标签过滤）
  - 列表项：信封卡片（纸张缩略、标题前 8–12 字、邮路徽章）
  - 状态显示：
    - 在途：副标题“预计 X 天后可开封”（显示解锁日期）；灰蓝色倒计时标签
    - 可开封（到点且到家）：副标题“已抵达，可在家开封”；主色高亮
    - 已开封：副标题“已开封”；淡化显示
  - 快捷操作：点击进入详情；顶部筛选（全部/在途/可开封/已开封）

- 写信（ComposeView）
  - 画布：纸张纹理背景 + 书法字体预览（标题/落款可用“手写风”）
  - 输入限制：打字限速 2 字/秒；周墨水上限 600 字（墨水条进度）
  - 工具栏：邮路档位（1/3/7 天）、样式选择（2–3 套纸张/邮票）、字数与墨水剩余
  - 发送流程：预览 → “通过 iMessage 发送”（唤起扩展）

- 信件详情（DetailView）
  - 未到点：封口信封 + 倒计时 + 规则提示（需到家开关）
  - 到点未到家：封口信封 + “回到家中可开封”提示 + 引导去设置页切换到家
  - 到点且到家：“开封”按钮 → 开启动效 → 纸张内容页（正文、落款、日期、邮票装饰）
  - 操作：复制、回信（跳转写信并带入样式）、收藏（标星）

- 设置（SettingsView）
  - 到家开关（默认开，说明文案）
  - 通知权限状态与引导开关
  - 样式包管理（仅显示 2–3 套，首版不做商店）
  - 关于与隐私说明

- iMessage 扩展（Messages Extension）
  - 入口：新建信件/从 App 选草稿 → 生成“信封气泡”（模板图 + 摘要）
  - 气泡点击：
    - 未到点：展示倒计时与“保存到笺间以获得提醒”
    - 达时未到家：提示“回到家中可开封” + 轻动效
    - 达时且到家：开启动效 + 展示正文；可“保存到 App”归档

二、主视觉设计规划（品牌、色板、字体、材质）
- 品牌关键词：慢、珍惜、纸本、留白、温度
- 色板（建议 Token）
  - Paper / 纸色：#FDFBF7（主背景）、#F7F2E8（纸张底）
  - Ink / 墨色：#1A1A1A（正文）、#2B2B2B（标题）
  - Wax / 蜡封：#B24C4C（主按钮/强调）
  - Gold / 金墨：#C9A66B（次强调/邮票边）
  - Mist / 雾灰：#8E8E93（次要文字/倒计时标签）
  - Success / 抵达：#2F8F6D（可开封状态）
- 字体与层级（iOS 系统可用为先）
  - 标题：HanziPen SC 或 STKaiti（手写/楷体风，用于标题、落款）
  - 正文：PingFang SC（SF UI 中文），字号 17–19pt，行高 1.4–1.6
  - 英文/数字：SF Pro Text；小号标签 13–15pt
  - MVP 不引入付费字体；二期可评估嵌入商用书法字体
- 材质与纹理
  - 纸张：轻纹理 JPG（1024–2048px），透明水印/纤维点，降低重复感
  - 蜡封：PNG 透明资源，含压印图案（简化“笺间”徽记）
  - 噪点叠加：细微噪点 Overlay（不超过 4% 强度）
- 图标与符号
  - SF Symbols：envelope, seal, timer, house.fill, bell
  - 图标线性风格，保持简洁，颜色随语义色板变换

三、UI 设计规划（组件、布局、状态、反馈）
- 组件清单（SwiftUI）
  - LetterCard：标题/副标题/邮路徽章/状态标签（在途/可开封/已开封）
  - InkMeter：墨水条（600 上限），渐变从 Wax→Ink 的细条进度
  - CountdownTag：小标签（Mist 背景，深色文字），显示“2天5小时”
  - RouteSelector：三段控件（1/3/7 天），选中高亮 Wax
  - PrimaryButton：Wax 实心，圆角 12，按下阴影减弱 + 轻触觉
  - EnvelopeView：封口/开封两态，支持开启动效
- 布局与留白
  - 基础栅格：8/12/16/24/32 间距阶梯
  - 列表卡片圆角 16，内边距 12–16；详情页内边距 20–24
  - 顶部导航半透明，滚动时渐变至纯色背景
- 状态与规则可视化
  - 在途：蓝灰标签 + 预计日期；卡片不显示“开封”按钮
  - 可开封：绿色标签 + “开封”主按钮
  - 未到家：黄色提示条 + 引导去设置页切换到家开关
- 反馈与微动画
  - 输入限速：工具栏轻微呼吸动画提示“缓缓落笔中”
  - 墨水消耗：InkMeter 平滑减少（200ms）
  - 触觉：按钮 .light；开封成功 .medium

四、动效与过渡（时序建议）
- 信封开封：120–180ms，先轻位移再“撕开”遮罩，纸张由 0.96→1.0 缩放淡入
- 页面转场：淡入 180ms；卡片按压缩放 0.98，恢复 120ms
- 倒计时变化：不实时跳动，按分钟粒度刷新，进入详情时更新一次

五、无障碍与文案
- 动态字体：支持 Content Size Category；正文最小 15pt
- 对比度：关键文字与背景对比 ≥ 4.5:1
- VoiceOver：关键控件提供语义 label（示例：“信件，在途，预计 3 天后可开封”）
- 文案语气：温柔、节制。示例：“每一封信，都值得等待。”

六、资源与命名（放入 Assets.xcassets）
- 纸张纹理：paper-01, paper-02（1024–2048px，1x/2x/3x）
- 蜡封图：seal-01（带透明背景）
- 信封缩略：envelope-01（用于列表卡片缩略图）
- 扩展模板图：bubble-locked, bubble-ready（iMessage 气泡模板布局）

七、实施顺序（与开发对齐）
- D1：建立色板/字体/间距 Token；导入纸张/蜡封素材；搭建 LetterCard/InkMeter/PrimaryButton
- D2：ComposeView（限速/墨水 UI）+ RouteSelector；详情页骨架与开封动画占位
- D3：iMessage 扩展气泡模板图与摘要文本；倒计时与“保存到App”按钮态
- D4：可用性打磨（对比度、动态字体、触觉）、空态插画/文案

八、可扩展项（二期以后）
- 皮肤商店（纸张/邮票主题包）、口令加密开封、地理围栏“到家”、长文分页排版、开封回忆录

备注
- 本文仅新增规划文档，不改动任何 Xcode 工程或编译相关文件；素材添加至 `Assets.xcassets` 时请保持命名与尺寸规范。
